---
phase: 03-bilingual-integration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/[locale]/blog/[slug]/mdx-content.tsx
autonomous: true

must_haves:
  truths:
    - "Hebrew posts render with RTL direction, borders and padding on correct side"
    - "English posts render with LTR direction"
    - "Code blocks within Hebrew content maintain LTR direction (code not reversed)"
    - "Blockquotes show border on inline-start side (right in RTL, left in LTR)"
    - "Lists show markers on inline-start side"
  artifacts:
    - path: "app/[locale]/blog/[slug]/mdx-content.tsx"
      provides: "Direction-aware prose styling with CSS logical properties"
      contains: "border-s-4"
      contains: "prose-pre:[direction:ltr]"
  key_links:
    - from: "app/[locale]/blog/[slug]/mdx-content.tsx"
      to: "locale prop"
      via: "dir attribute on wrapper div"
      pattern: 'dir=.*locale.*"rtl".*"ltr"'
---

<objective>
Update MDX prose wrapper to use CSS logical properties for proper RTL/LTR rendering

Purpose: Hebrew content currently shows blockquote borders on the wrong side and list markers in wrong position because the prose wrapper uses physical CSS properties (border-l, pl-) instead of logical properties (border-s, ps-). Code blocks also need explicit LTR direction to prevent reversal in RTL context.

Output: Updated mdx-content.tsx with direction-aware styling that works correctly in both Hebrew (RTL) and English (LTR) contexts.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/03-bilingual-integration/03-RESEARCH.md

@app/[locale]/blog/[slug]/mdx-content.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update MDX prose wrapper to use CSS logical properties</name>
  <files>app/[locale]/blog/[slug]/mdx-content.tsx</files>
  <action>
Update the prose className in MDXContent component to use CSS logical properties:

1. Replace physical properties with logical equivalents:
   - `prose-blockquote:border-l-4` -> `prose-blockquote:border-s-4`
   - `prose-blockquote:pl-6` -> `prose-blockquote:ps-6`
   - `prose-ul` and `prose-ol` padding: add `prose-ul:ps-6 prose-ol:ps-6`

2. Add direction isolation for code blocks to prevent reversal in RTL:
   - Add `prose-code:[direction:ltr]`
   - Add `prose-code:[unicode-bidi:isolate]`
   - Add `prose-pre:[direction:ltr]`

3. Verify the `dir` attribute is correctly set on the wrapper div (already exists, just confirm)

The key changes from physical to logical:
- `l` (left) -> `s` (start) for inline-start
- `r` (right) -> `e` (end) for inline-end

This ensures:
- In RTL (Hebrew): border appears on RIGHT (start), padding on RIGHT
- In LTR (English): border appears on LEFT (start), padding on LEFT
  </action>
  <verify>
1. Run `npm run build` to verify no compilation errors
2. Visual check: Visit /he/blog/mvp-4-week-sprint-guide - blockquotes should have border on RIGHT
3. Visual check: Visit /en/blog/mvp-4-week-sprint-guide - blockquotes should have border on LEFT
4. Code blocks in Hebrew content should NOT be reversed (function names readable left-to-right)
  </verify>
  <done>
- MDX prose wrapper uses CSS logical properties (border-s-4, ps-6)
- Code blocks have explicit LTR direction with unicode-bidi isolation
- Hebrew posts render with correct RTL styling (borders/padding on right)
- English posts render with correct LTR styling (borders/padding on left)
  </done>
</task>

<task type="auto">
  <name>Task 2: Add explicit list padding for RTL support</name>
  <files>app/[locale]/blog/[slug]/mdx-content.tsx</files>
  <action>
Ensure list elements have proper direction-aware padding:

1. Add logical padding to unordered lists: `prose-ul:ps-6`
2. Add logical padding to ordered lists: `prose-ol:ps-6`

This ensures list markers (bullets, numbers) appear on the correct side:
- Hebrew (RTL): markers on RIGHT side
- English (LTR): markers on LEFT side

Note: This may already be partially done in Task 1, but verify lists specifically have the ps-6 class applied.
  </action>
  <verify>
1. Check a Hebrew post with lists - bullets/numbers should appear on RIGHT
2. Check an English post with lists - bullets/numbers should appear on LEFT
3. Nested lists should indent correctly in both directions
  </verify>
  <done>
- Lists in Hebrew content show markers on right (inline-start)
- Lists in English content show markers on left (inline-start)
- Nested list indentation works correctly in both directions
  </done>
</task>

</tasks>

<verification>
After completing both tasks:

1. Build verification:
   ```bash
   npm run build
   ```
   Must complete without errors.

2. RTL visual verification (Hebrew):
   - Visit http://localhost:3000/he/blog/mvp-4-week-sprint-guide
   - Blockquote border appears on RIGHT side
   - List bullets/numbers appear on RIGHT side
   - Code blocks render LEFT-TO-RIGHT (not reversed)
   - Overall text direction is right-to-left

3. LTR visual verification (English):
   - Visit http://localhost:3000/en/blog/mvp-4-week-sprint-guide
   - Blockquote border appears on LEFT side
   - List bullets/numbers appear on LEFT side
   - Code blocks render LEFT-TO-RIGHT (normal)
   - Overall text direction is left-to-right

4. Requirements coverage:
   - I18N-01: Hebrew content renders with RTL direction [CHECK]
   - I18N-02: English content renders with LTR direction [CHECK]
   - I18N-03: MDX components are direction-aware [CHECK]
   - I18N-04: Mixed direction text (code in Hebrew) renders correctly [CHECK]
</verification>

<success_criteria>
- `npm run build` passes
- Blockquotes have border on inline-start side in both locales
- Lists have markers on inline-start side in both locales
- Code blocks maintain LTR direction in Hebrew content
- No visual regressions in English content
</success_criteria>

<output>
After completion, create `.planning/phases/03-bilingual-integration/03-01-SUMMARY.md`
</output>
